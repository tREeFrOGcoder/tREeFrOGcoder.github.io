<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Page Draft</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" integrity="sha384-nB0miv6/jRmo5UMMR1wu3Gz6NLsoTkbqJghGIsx//Rlm+ZU03BU6SQNC66uf4l5+" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js" integrity="sha384-7zkQWkzuo3B5mTepMUcHkMB5jZaolc2xDwL6VFqjFALcbeS9Ggm/Yr2r3Dy4lfFg" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js" integrity="sha384-43gviWU0YVjaDtb/GhzOouOXtZMP/7XUzwPTstBeZFe/+rCMvRwr4yROQP43s0Xk" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script>

</head>
<body>
    <div class="container">

        <!-- Super large cover image section -->
        <section class="cover-image">
            <img src="anne-adams.jpg" alt="Cover Image" class="cover-img">
            <div class="title-block">
                <h1>Face Morphing:</h1>
                <h2>Triangulation, Average Geometry, Extrapolation, and more!</h2>
            </div>
        </section>


        <!-- Sidebar with navigation -->
        <aside class="sidebar">
            <nav>
                <ul>
                    <li><a href="#part1">1 Correspondence</a></li>
                    <li><a href="#part2">2 Mid-Way Face</a></li>
                    <li><a href="#part3">3 Morph Sequence</a></li>
                    <li><a href="#part4">4 Mean Face</a></li>
                    <li><a href="#part5">5 Caricature</a></li>
                </ul>
            </nav>
        </aside>

        
        <!-- Main content section -->
        <main class="content">
            
            <!-- Section 1 -->
            <section id="part1" class="section">
                <h1>1 Defining Correspondence</h1>
                <ul>
                    <li>To morph from Anne to Adams, we start by defining pairs of corresponding points by hand.</li>
                    <li>I used given tools to create this correspondence, which is saved as point coordinates in a json file.</li>
                    <li>In order to get the Delauney triangulation, I calculate the average point with <code>average_points = (im1_points + im2_points) / 2</code></li>
                    <li>Below is a display of the triangulation results on the two faces.</li>
                </ul>

                <div class="content-flex">
                    <section id="image-array-single">
                        <div class="image-card-single">
                            <img src="src/1/anne_with_triangulation.jpg" alt="Section 1 Image">
                            <div class="image-single-info">
                                <p><strong>Anne with Delauney Triangulation</strong></p>
                            </div>
                        </div>
                    </section>

                    <section id="image-array-single">
                        <div class="image-card-single">
                            <img src="src/1/adams_with_triangulation.jpg" alt="Section 1 Image">
                            <div class="image-single-info">
                                <p><strong>Adams with Delauney Triangulation</strong></p>
                            </div>
                        </div>
                    </section>

                </div>

            </section>

            <p>&nbsp;&nbsp;</p>

            <hr class="custom-line">


            <!-- Section 2 -->
            <section id="part2" class="section">
                <h1>2 Computing the Mid-way Face</h1>
                <ul>
                    <li><strong>Mid-way Face Calculation</strong></li>
                        <ul>    
                            <li>This the pre-step before computing the full morph sequence: we compute the mid-way face of images A and B.</li>
                            <li>Compute the average shape by averaging each keypoint location of faces A and B.</li>
                            <li>Warp both faces into the average shape.</li>
                            <li>Average the colors of both images.</li>
                        </ul>
                    <li><strong>Affine Warp Implementation</strong></li>
                        <ul>
                            <li>Implement an affine warp for each triangle in the triangulation.</li>
                            <li>Compute an affine transformation matrix between two triangles with this: <code>A = computeAffine(tri1_pts,tri2_pts)</code></li>
                            <li>Use a set of these transformation matrices to implement an inverse warp for all pixels.</li>
                            <li>Generate a mask using polygons e.g., <code>polygon</code> in Python.</li>
                            <li>Loop over triangles, not pixels.</li>
                        </ul>
                    <li>And...here is the result! Please just ignore the hair style issue, that's not an issue at all, in some sense~</li>
                </ul>

                <section id="image-array-small">

                    <div class="image-card-small">
                        <img src="src/2/anne.jpg" alt="anne">
                        <div class="image-small-info">
                            <p>Anne Original</p>
                        </div>
                    </div>

                    <div class="image-card-small">
                        <img src="src/2/average_face.jpg" alt="average_face">
                        <div class="image-small-info">
                            <p>Anne-Adams Mid-way Face</p>
                        </div>
                    </div>

                    <div class="image-card-small">
                        <img src="src/2/adams.jpg" alt="adams">
                        <div class="image-small-info">
                            <p>Adams Original</p>
                        </div>
                    </div>

                </section>
                    
            </section>

            <p>&nbsp;&nbsp;</p>

            <hr class="custom-line">
            

            <section id="part3" class="section">
                <h1>3 Morph Sequence!</h1>

                <div class="content-flex">
                    <ul>
                        <li>Just write a function to produce the morph for each frame:</li>
                        <li><code>morphed_im = morph(im1, im2, im1_pts, im2_pts, tri, warp_frac, dissolve_frac)</code></li>
                    </ul>

                    <section id="image-array-single">
                        <div class="image-card-single">
                            <img src="src/3/morph_sequence_pillow_35.gif" alt="Section 1 Image">
                            <div class="image-single-info">
                                <p><strong>From Anne to Adams</strong></p>
                            </div>
                        </div>
                    </section>

                </div>

                




            </section>
            
        </main>
    </div>
</body>
</html>
